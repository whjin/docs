<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>首页</title>
  </head>
  <body>
    <h1>文章列表</h1>
    <% if(list.length===0) { %>
    <p>暂无文章</p>
    <% } else { %>
    <table>
      <tr>
        <th>ID</th>
        <th>标题</th>
        <th>发表时间</th>
        <% if(logged) { %>
        <th>操作</th>
        <% } %>
      </tr>
      <% list.forEach(post=>{ %>
      <tr>
        <td><%= post.id %></td>
        <td>
          <a href="/post/<%= post.id %>" title="查看文章详情"><%= post.title %></a>
        </td>
        <td><%= post.time %></td>
        <% if(logged) { %>
        <th>
          <a href="/update/<%= post.id %>">编辑</a>
          <a
            href="/delete/<%= post.id %>"
            onclick="return confirm('确认删除吗？')"
            >删除</a
          >
        </th>
        <% } %>
      </tr>
      <% }) %>
    </table>
    <% } %>
  </body>
</html>
