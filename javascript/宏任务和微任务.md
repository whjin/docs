`JS`有两种任务的执行模式：同步模式和异步模式。

在异步模式下，创建异步任务主要分为宏任务与微任务两种。`ES6`规范中，宏任务成为`Task`，微任务成为`Jobs`。

宏任务是由宿主（浏览器、`Node`环境）发起，而微任务由`JS`引擎自身发起。

- 宏任务：
    - `JS`中主栈执行的大多数的任务。（定时器、事件绑定、`ajax`、回调函数、`Node.js`的`fs`模块）
    - `script`、`setTimeout`、`setInterval`、`setImmediate`（`Node`环境）、`UI`事件，`I/O`(`Node.js`)、`ajax`网络请求
    
- 微任务：`Promise`、`async/await`、、`process.nextTick`（`Node.js`）、`MutationObserver`

宏任务和微任务的执行顺序

- 主栈队列就是一个宏任务，每一个宏任务执行完就会执行宏任务中的微任务，知道微任务全部都执行完，才开始执行下一个宏任务
- `JS`中任务的执行顺序优先级：主栈全局任务（宏任务）-->宏任务中的微任务-->下一个宏任务。所以，`Promise`（微任务）的执行顺序优先级高于`setTimeout`定时器